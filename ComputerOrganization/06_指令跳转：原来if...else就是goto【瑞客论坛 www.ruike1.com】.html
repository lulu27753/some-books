<html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,viewport-fit=cover"> <meta name="format-detection" content="telephone=no"> <title>06 | æŒ‡ä»¤è·³è½¬ï¼šåŸæ¥if...elseå°±æ˜¯goto</title>         <style type="text/css"> html { color: #333; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; text-rendering: optimizelegibility; font-family: Helvetica Neue,PingFang SC,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif } html.borderbox *,html.borderbox :after,html.borderbox :before { box-sizing: border-box } article,aside,blockquote,body,button,code,dd,details,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hr,input,legend,li,menu,nav,ol,p,pre,section,td,textarea,th,ul { margin: 0; padding: 0 } article,aside,details,figcaption,figure,footer,header,menu,nav,section { display: block } audio,canvas,video { display: inline-block } body,button,input,select,textarea { font: 300 1em/1.8 PingFang SC,Lantinghei SC,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,Helvetica,sans-serif } button::-moz-focus-inner,input::-moz-focus-inner { padding: 0; border: 0 } table { border-collapse: collapse; border-spacing: 0 } fieldset,img { border: 0 } blockquote { position: relative; color: #999; font-weight: 400; border-left: 1px solid #1abc9c; padding-left: 1em; margin: 1em 3em 1em 2em } @media only screen and (max-width: 640px) { blockquote { margin:1em 0 } } abbr,acronym { border-bottom: 1px dotted; font-variant: normal } abbr { cursor: help } del { text-decoration: line-through } address,caption,cite,code,dfn,em,th,var { font-style: normal; font-weight: 400 } ol,ul { list-style: none } caption,th { text-align: left } q:after,q:before { content: "" } sub,sup { font-size: 75%; line-height: 0; position: relative } :root sub,:root sup { vertical-align: baseline } sup { top: -.5em } sub { bottom: -.25em } a { color: #1abc9c } a:hover { text-decoration: underline } .typo a { border-bottom: 1px solid #1abc9c } .typo a:hover { border-bottom-color: #555; color: #555 } .typo a:hover,a,ins { text-decoration: none } .typo-u,u { text-decoration: underline } mark { background: #fffdd1; border-bottom: 1px solid #ffedce; padding: 2px; margin: 0 5px } code,pre,pre tt { font-family: Courier,Courier New,monospace } pre { background: hsla(0,0%,97%,.7); border: 1px solid #ddd; padding: 1em 1.5em; display: block; -webkit-overflow-scrolling: touch } hr { border: none; border-bottom: 1px solid #cfcfcf; margin-bottom: .8em; height: 10px } .typo-small,figcaption,small { font-size: .9em; color: #888 } b,strong { font-weight: 700; color: #000 } [draggable] { cursor: move } .clearfix:after,.clearfix:before { content: ""; display: table } .clearfix:after { clear: both } .clearfix { zoom:1} .textwrap,.textwrap td,.textwrap th { word-wrap: break-word; word-break: break-all } .textwrap-table { table-layout: fixed } .serif { font-family: Palatino,Optima,Georgia,serif } .typo-dl,.typo-form,.typo-hr,.typo-ol,.typo-p,.typo-pre,.typo-table,.typo-ul,.typo dl,.typo form,.typo hr,.typo ol,.typo p,.typo pre,.typo table,.typo ul,blockquote { margin-bottom: 1rem } h1,h2,h3,h4,h5,h6 { font-family: PingFang SC,Helvetica Neue,Verdana,Microsoft Yahei,Hiragino Sans GB,Microsoft Sans Serif,WenQuanYi Micro Hei,sans-serif; color: #000; line-height: 1.35 } .typo-h1,.typo-h2,.typo-h3,.typo-h4,.typo-h5,.typo-h6,.typo h1,.typo h2,.typo h3,.typo h4,.typo h5,.typo h6 { margin-top: 1.2em; margin-bottom: .6em; line-height: 1.35 } .typo-h1,.typo h1 { font-size: 2em } .typo-h2,.typo h2 { font-size: 1.8em } .typo-h3,.typo h3 { font-size: 1.6em } .typo-h4,.typo h4 { font-size: 1.4em } .typo-h5,.typo-h6,.typo h5,.typo h6 { font-size: 1.2em } .typo-ul,.typo ul { margin-left: 1.3em; list-style: disc } .typo-ol,.typo ol { list-style: decimal; margin-left: 1.9em } .typo-ol ol,.typo-ol ul,.typo-ul ol,.typo-ul ul,.typo li ol,.typo li ul { margin-bottom: .8em; margin-left: 2em } .typo-ol ul,.typo-ul ul,.typo li ul { list-style: circle } .typo-table td,.typo-table th,.typo table caption,.typo table td,.typo table th { border: 1px solid #ddd; padding: .5em 1em; color: #666 } .typo-table th,.typo table th { background: #fbfbfb } .typo-table thead th,.typo table thead th { background: hsla(0,0%,95%,.7) } .typo table caption { border-bottom: none } .typo-input,.typo-textarea { -webkit-appearance: none; border-radius: 0 } .typo-em,.typo em,caption,legend { color: #000; font-weight: inherit } .typo-em { position: relative } .typo-em:after { position: absolute; top: .65em; left: 0; width: 100%; overflow: hidden; white-space: nowrap; content: "\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB\30FB" } .typo img { max-width: 100% } .common-content { font-weight: 400; color: #353535; line-height: 1.75rem; white-space: normal; word-break: normal; font-size: 1rem } .common-content img { display: block; max-width: 100%; background-color: #eee } .common-content audio,.common-content video { width: 100%; background-color: #eee } .common-content center,.common-content font { margin-top: 1rem; display: inline-block } .common-content center { width: 100% } .common-content pre { margin-top: 1rem; padding-left: 0; padding-right: 0; position: relative; overflow: hidden } .common-content pre code { font-size: .8rem; font-family: Consolas,Liberation Mono,Menlo,monospace,Courier; display: block; width: 100%; box-sizing: border-box; padding-left: 1rem; padding-right: 1rem; overflow-x: auto } .common-content hr { border: none; margin-top: 1.5rem; margin-bottom: 1.5rem; border-top: 1px solid #f5f5f5; height: 1px; background: none } .common-content b,.common-content h1,.common-content h2,.common-content h3,.common-content h4,.common-content h5,.common-content strong { font-weight: 700 } .common-content h1,.common-content h2 { font-size: 1.125rem; margin-bottom: .45rem } .common-content h3,.common-content h4,.common-content h5 { font-size: 1rem; margin-bottom: .45rem } .common-content p { font-weight: 400; color: #353535; margin-top: .15rem } .common-content .orange { color: #ff5a05 } .common-content .reference { font-size: 1rem; color: #888 } .custom-rich-content h1 { margin-top: 0; font-weight: 400; font-size: 15.25px; border-bottom: 1px solid #eee; line-height: 2.8 } .custom-rich-content li,.custom-rich-content p { font-size: 14px; color: #888; line-height: 1.6 } table.hljs-ln { margin-bottom: 0; border-spacing: 0; border-collapse: collapse } table.hljs-ln,table.hljs-ln tbody,table.hljs-ln td,table.hljs-ln tr { box-sizing: border-box } table.hljs-ln td { padding: 0; border: 0 } table.hljs-ln td.hljs-ln-numbers { min-width: 15px; color: rgba(27,31,35,.3); text-align: right; white-space: nowrap; cursor: pointer; user-select: none } table.hljs-ln td.hljs-ln-code,table.hljs-ln td.hljs-ln-numbers { font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace; font-size: 12px; line-height: 20px; vertical-align: top } table.hljs-ln td.hljs-ln-code { position: relative; padding-right: 10px; padding-left: 10px; overflow: visible; color: #24292e; word-wrap: normal; white-space: pre } video::-webkit-media-controls { overflow: hidden!important } video::-webkit-media-controls-enclosure { width: calc(100% + 32px); margin-left: auto } .button-cancel { color: #888; border: 1px solid #888; border-radius: 3px; margin-right: 12px } .button-cancel,.button-primary { -ms-flex-positive: 1; flex-grow: 1; height: 35px; display: inline-block; font-size: 15px; text-align: center; line-height: 36px } .button-primary { color: #fff; background-color: #ff5a05; border-radius: 3px } @font-face { font-family: iconfont; src: url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot); src: url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.woff) format("woff"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.ttf) format("truetype"),url(//at.alicdn.com/t/font_372689_bwwwtosxtzp.svg#iconfont) format("svg") } @font-face { font-family: player-font; src: url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot); src: url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.woff) format("woff"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.ttf) format("truetype"),url(//at.alicdn.com/t/font_509397_1cyjv4o90qiod2t9.svg#player-font) format("svg") } .iconfont { font-family: iconfont!important; font-size: 16px; font-style: normal; -webkit-font-smoothing: antialiased; -webkit-text-stroke-width: .2px; -moz-osx-font-smoothing: grayscale } html { background: #fff; min-height: 100%; -webkit-tap-highlight-color: rgba(0,0,0,0) } body { width: 100% } body.fixed { overflow: hidden; position: fixed; width: 100vw; height: 100vh } i { font-style: normal } a { word-wrap: break-word; -webkit-tap-highlight-color: rgba(0,0,0,0) } a:hover { text-decoration: none } .fade-enter-active,.fade-leave-active { transition: opacity .3s } .fade-enter,.fade-leave-to { opacity: 0 } .MathJax,.MathJax_CHTML,.MathJax_MathContainer,.MathJax_MathML,.MathJax_PHTML,.MathJax_PlainSource,.MathJax_SVG { outline: 0 } .ios-app-switch .js-audit { display: none } ._loading_wrap_ { position: fixed; width: 100vw; height: 100vh; top: 50%; left: 50%; transform: translate(-50%,-50%); z-index: 999 } ._loading_div_class_,._loading_wrap_ { display: -ms-flexbox; display: flex; -ms-flex-pack: center; justify-content: center; -ms-flex-align: center; align-items: center } ._loading_div_class_ { word-wrap: break-word; padding: .5rem .75rem; text-align: center; z-index: 9999; font-size: .6rem; max-width: 60%; color: #fff; border-radius: .25rem; -ms-flex-direction: column; flex-direction: column } ._loading_div_class_ .message { color: #353535; font-size: 16px; line-height: 3 } .spinner { animation: circle-rotator 1.4s linear infinite } .spinner * { line-height: 0; box-sizing: border-box } @keyframes circle-rotator { 0% { transform: rotate(0deg) } to { transform: rotate(270deg) } } .path { stroke-dasharray: 187; stroke-dashoffset: 0; transform-origin: center; animation: circle-dash 1.4s ease-in-out infinite,circle-colors 5.6s ease-in-out infinite } @keyframes circle-colors { 0% { stroke: #ff5a05 } to { stroke: #ff5a05 } } @keyframes circle-dash { 0% { stroke-dashoffset: 187 } 50% { stroke-dashoffset: 46.75; transform: rotate(135deg) } to { stroke-dashoffset: 187; transform: rotate(450deg) } } .confirm-box-wrapper,.confirm-box-wrapper .mask { position: absolute; top: 0; left: 0; right: 0; bottom: 0 } .confirm-box-wrapper .mask { background: rgba(0,0,0,.6) } .confirm-box-wrapper .confirm-box { position: fixed; top: 50%; left: 50%; width: 267px; background: #fff; transform: translate(-50%,-50%); border-radius: 7px } .confirm-box-wrapper .confirm-box .head { margin: 0 18px; font-size: 18px; text-align: center; line-height: 65px; border-bottom: 1px solid #d9d9d9 } .confirm-box-wrapper .confirm-box .body { padding: 18px; padding-bottom: 0; color: #353535; font-size: 12.5px; max-height: 150px; overflow: auto } .confirm-box-wrapper .confirm-box .foot { display: -ms-flexbox; display: flex; -ms-flex-direction: row; flex-direction: row; padding: 18px } .confirm-box-wrapper .confirm-box .foot .button-cancel { border: 1px solid #d9d9d9 } .hljs { display: block; overflow-x: auto; padding: .5em; color: #333; background: #f8f8f8 } .hljs-comment,.hljs-quote { color: #998; font-style: italic } .hljs-keyword,.hljs-selector-tag,.hljs-subst { color: #333; font-weight: 700 } .hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable { color: teal } .hljs-doctag,.hljs-string { color: #d14 } .hljs-section,.hljs-selector-id,.hljs-title { color: #900; font-weight: 700 } .hljs-subst { font-weight: 400 } .hljs-class .hljs-title,.hljs-type { color: #458; font-weight: 700 } .hljs-attribute,.hljs-name,.hljs-tag { color: navy; font-weight: 400 } .hljs-link,.hljs-regexp { color: #009926 } .hljs-bullet,.hljs-symbol { color: #990073 } .hljs-built_in,.hljs-builtin-name { color: #0086b3 } .hljs-meta { color: #999; font-weight: 700 } .hljs-deletion { background: #fdd } .hljs-addition { background: #dfd } .hljs-emphasis { font-style: italic } .hljs-strong { font-weight: 700 } .button-cancel[data-v-87ffcada] { color: #888; border: 1px solid #888; border-radius: 3px; margin-right: 12px } .button-cancel[data-v-87ffcada],.button-primary[data-v-87ffcada] { -webkit-box-flex: 1; -ms-flex-positive: 1; flex-grow: 1; height: 35px; display: inline-block; font-size: 15px; text-align: center; line-height: 36px } .button-primary[data-v-87ffcada] { color: #fff; background-color: #ff5a05; border-radius: 3px } .pd[data-v-87ffcada] { padding-left: 1.375rem; padding-right: 1.375rem } .article[data-v-87ffcada] { max-width: 70rem; margin: 0 auto } .article .article-unavailable[data-v-87ffcada] { color: #fa8919; font-size: 15px; font-weight: 600; line-height: 24px; border-radius: 5px; padding: 12px; background-color: #f6f7fb; margin-top: 20px } .article .article-unavailable .iconfont[data-v-87ffcada] { font-size: 12px } .article .main[data-v-87ffcada] { padding: 1.25rem 0; margin-bottom: 52px } .article-title[data-v-87ffcada] { color: #353535; font-weight: bold; line-height: 1.65rem; font-size: 1.34375rem } .article-info[data-v-87ffcada] { color: #888; font-size: .9375rem; margin-top: 1.0625rem } .article-content[data-v-87ffcada] { margin-top: 1.0625rem } .article-content.android video[data-v-87ffcada]::-webkit-media-controls-fullscreen-button { display: none } .copyright[data-v-87ffcada] { color: #b2b2b2; padding-bottom: 20px; margin-top: 20px; font-size: 13px } .audio-player[data-v-87ffcada] { width: 100%; margin: 20px 0 } .to-comment[data-v-87ffcada] { overflow: hidden; padding-top: 10px; margin-bottom: -30px } .to-comment a.button-primary[data-v-87ffcada] { float: right; height: 20px; font-size: 12px; line-height: 20px; padding: 4px 8px; cursor: pointer } .article-comments[data-v-87ffcada] { margin-top: 2rem } .article-comments h2[data-v-87ffcada] { text-align: center; color: #888; position: relative; z-index: 1; margin-bottom: 1rem } .article-comments h2[data-v-87ffcada]:before { border-top: 1px dotted #888; content: ""; position: absolute; top: 56%; left: 0; width: 100%; z-index: -1 } .article-comments h2 span[data-v-87ffcada] { font-size: 15.25px; font-weight: 400; padding: 0 1rem; background: #fff; display: inline-block } .article-sub-bottom[data-v-87ffcada] { z-index: 10; cursor: pointer } .switch-btns[data-v-87ffcada] { height: 76px; cursor: pointer; padding-top: 24px; padding-bottom: 24px; border-bottom: 10px solid #f6f7fb; position: relative } .switch-btns[data-v-87ffcada]:before { content: " "; height: 1px; background: #e8e8e8; position: absolute; top: 0; left: 0; -webkit-box-sizing: border-box; box-sizing: border-box; left: 1.375rem; right: 1.375rem } .switch-btns .btn[data-v-87ffcada] { height: 38px; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-align: center; -ms-flex-align: center; align-items: center } .switch-btns .btn .tag[data-v-87ffcada] { -webkit-box-flex: 0; -ms-flex: 0 0 62px; flex: 0 0 62px; text-align: center; color: #888; font-size: 14px; border-radius: 10px; height: 22px; line-height: 22px; background: #f6f7fb; font-weight: 400 } .switch-btns .btn .txt[data-v-87ffcada] { margin-left: 10px; -webkit-box-flex: 1; -ms-flex: 1 1 auto; flex: 1 1 auto; color: #888; font-size: 15px; height: 22px; line-height: 22px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-weight: 400 } @media (max-width: 769px) { .article .breadcrumb[data-v-87ffcada] { padding-top:10px; padding-bottom: 10px } } .comment-item { list-style-position: inside; width: 100%; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; margin-bottom: 1rem } .comment-item a { border-bottom: none } .comment-item .avatar { width: 2.625rem; height: 2.625rem; -ms-flex-negative: 0; flex-shrink: 0; border-radius: 50% } .comment-item .info { margin-left: .5rem; -webkit-box-flex: 1; -ms-flex-positive: 1; flex-grow: 1 } .comment-item .info .hd { width: 100%; display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -webkit-box-pack: justify; -ms-flex-pack: justify; justify-content: space-between; -webkit-box-align: center; -ms-flex-align: center; align-items: center } .comment-item .info .hd .username { color: #888; font-size: 15.25px; font-weight: 400; line-height: 1.2 } .comment-item .info .hd .control { display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -webkit-box-align: center; -ms-flex-align: center; align-items: center } .comment-item .info .hd .control .btn-share { color: #888; font-size: .75rem; margin-right: 1rem } .comment-item .info .hd .control .btn-praise { display: -webkit-box; display: -ms-flexbox; display: flex; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -webkit-box-align: center; -ms-flex-align: center; align-items: center; font-size: 15.25px; text-decoration: none } .comment-item .info .hd .control .btn-praise i { color: #888; display: inline-block; font-size: .75rem; margin-right: .3rem; margin-top: -.01rem } .comment-item .info .hd .control .btn-praise i.on,.comment-item .info .hd .control .btn-praise span { color: #ff5a05 } .comment-item .info .bd { color: #353535; font-size: 15.25px; font-weight: 400; white-space: normal; word-break: break-all; line-height: 1.6 } .comment-item .info .time { color: #888; font-size: 9px; line-height: 1 } .comment-item .info .reply .reply-hd { font-size: 15.25px } .comment-item .info .reply .reply-hd span { margin-left: -12px; color: #888; font-weight: 400 } .comment-item .info .reply .reply-hd i { color: #ff5a05; font-size: 15.25px } .comment-item .info .reply .reply-content { background: #f6f7fb; padding: 18px; border-radius: 10px; color: #353535; font-size: 15.25px; font-weight: 400; white-space: normal; word-break: break-all } .comment-item .info .reply .reply-time { color: #888; font-size: 9px } </style> </head> <body> <div id="app"> <div data-v-87ffcada="" class="article" id="watermark"> <div data-v-87ffcada="" class="main main-app"> <h1 data-v-87ffcada="" class="article-title pd"> 06 | æŒ‡ä»¤è·³è½¬ï¼šåŸæ¥if...elseå°±æ˜¯goto </h1> <hr> <div data-v-87ffcada="" class="article-content typo common-content pd"> <img data-v-87ffcada="" src="https://static001.geekbang.org/resource/image/a4/2c/a44acf3e8c9940d9bc8f0c3ef39cf62c.jpg"> <div data-v-87ffcada="" id="article-content" class=""> <div class="text"> <p>ä¸Šä¸€è®²ï¼Œæˆ‘ä»¬è®²è§£äº†ä¸€è¡Œä»£ç æ˜¯æ€ä¹ˆå˜æˆè®¡ç®—æœºæŒ‡ä»¤çš„ã€‚ä½ å¹³æ—¶å†™çš„ç¨‹åºä¸­ï¼Œè‚¯å®šä¸åªæœ‰int a = 1è¿™æ ·æœ€æœ€ç®€å•çš„ä»£ç æˆ–è€…æŒ‡ä»¤ã€‚æˆ‘ä»¬æ€»æ˜¯è¦ç”¨åˆ°ifâ€¦elseè¿™æ ·çš„æ¡ä»¶åˆ¤æ–­è¯­å¥ã€whileå’Œforè¿™æ ·çš„å¾ªç¯è¯­å¥ï¼Œè¿˜æœ‰å‡½æ•°æˆ–è€…è¿‡ç¨‹è°ƒç”¨ã€‚</p><p>å¯¹åº”çš„ï¼ŒCPUæ‰§è¡Œçš„ä¹Ÿä¸åªæ˜¯ä¸€æ¡æŒ‡ä»¤ï¼Œä¸€èˆ¬ä¸€ä¸ªç¨‹åºåŒ…å«å¾ˆå¤šæ¡æŒ‡ä»¤ã€‚å› ä¸ºæœ‰ifâ€¦elseã€forè¿™æ ·çš„æ¡ä»¶å’Œå¾ªç¯å­˜åœ¨ï¼Œè¿™äº›æŒ‡ä»¤ä¹Ÿä¸ä¼šä¸€è·¯å¹³é“ºç›´å™åœ°æ‰§è¡Œä¸‹å»ã€‚</p><p>ä»Šå¤©æˆ‘ä»¬å°±åœ¨ä¸Šä¸€èŠ‚çš„åŸºç¡€ä¸Šæ¥çœ‹çœ‹ï¼Œä¸€ä¸ªè®¡ç®—æœºç¨‹åºæ˜¯æ€ä¹ˆè¢«åˆ†è§£æˆä¸€æ¡æ¡æŒ‡ä»¤æ¥æ‰§è¡Œçš„ã€‚</p><h2>CPUæ˜¯å¦‚ä½•æ‰§è¡ŒæŒ‡ä»¤çš„ï¼Ÿ</h2><p>æ‹¿æˆ‘ä»¬ç”¨çš„Intel CPUæ¥è¯´ï¼Œé‡Œé¢å·®ä¸å¤šæœ‰å‡ ç™¾äº¿ä¸ªæ™¶ä½“ç®¡ã€‚å®é™…ä¸Šï¼Œä¸€æ¡æ¡è®¡ç®—æœºæŒ‡ä»¤æ‰§è¡Œèµ·æ¥éå¸¸å¤æ‚ã€‚å¥½åœ¨CPUåœ¨è½¯ä»¶å±‚é¢å·²ç»ä¸ºæˆ‘ä»¬åšå¥½äº†å°è£…ã€‚å¯¹äºæˆ‘ä»¬è¿™äº›åšè½¯ä»¶çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œæˆ‘ä»¬åªè¦çŸ¥é“ï¼Œå†™å¥½çš„ä»£ç å˜æˆäº†æŒ‡ä»¤ä¹‹åï¼Œæ˜¯ä¸€æ¡ä¸€æ¡<strong>é¡ºåº</strong>æ‰§è¡Œçš„å°±å¯ä»¥äº†ã€‚</p><p>æˆ‘ä»¬å…ˆä¸ç®¡å‡ ç™¾äº¿çš„æ™¶ä½“ç®¡çš„èƒŒåæ˜¯æ€ä¹ˆé€šè¿‡ç”µè·¯è¿è½¬èµ·æ¥çš„ï¼Œé€»è¾‘ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥è®¤ä¸ºï¼ŒCPUå…¶å®å°±æ˜¯ç”±ä¸€å †å¯„å­˜å™¨ç»„æˆçš„ã€‚è€Œå¯„å­˜å™¨å°±æ˜¯CPUå†…éƒ¨ï¼Œç”±å¤šä¸ªè§¦å‘å™¨ï¼ˆFlip-Flopï¼‰æˆ–è€…é”å­˜å™¨ï¼ˆLatchesï¼‰ç»„æˆçš„ç®€å•ç”µè·¯ã€‚</p><p>è§¦å‘å™¨å’Œé”å­˜å™¨ï¼Œå…¶å®å°±æ˜¯ä¸¤ç§ä¸åŒåŸç†çš„æ•°å­—ç”µè·¯ç»„æˆçš„é€»è¾‘é—¨ã€‚è¿™å—å†…å®¹å¹¶ä¸æ˜¯æˆ‘ä»¬è¿™èŠ‚è¯¾çš„é‡ç‚¹ï¼Œæ‰€ä»¥ä½ åªè¦äº†è§£å°±å¥½ã€‚å¦‚æœæƒ³è¦æ·±å…¥å­¦ä¹ çš„è¯ï¼Œä½ å¯ä»¥å­¦ä¹ æ•°å­—ç”µè·¯çš„ç›¸å…³è¯¾ç¨‹ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸æ·±å…¥æ¢è®¨ã€‚</p><!-- [[[read_end]]] --><p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬æ¥ç€å‰é¢è¯´ã€‚Nä¸ªè§¦å‘å™¨æˆ–è€…é”å­˜å™¨ï¼Œå°±å¯ä»¥ç»„æˆä¸€ä¸ªNä½ï¼ˆBitï¼‰çš„å¯„å­˜å™¨ï¼Œèƒ½å¤Ÿä¿å­˜Nä½çš„æ•°æ®ã€‚æ¯”æ–¹è¯´ï¼Œæˆ‘ä»¬ç”¨çš„64ä½IntelæœåŠ¡å™¨ï¼Œå¯„å­˜å™¨å°±æ˜¯64ä½çš„ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/cd/6f/cdba5c17a04f0dd5ef05b70368b9a96f.jpg" alt=""></p><p>ä¸€ä¸ªCPUé‡Œé¢ä¼šæœ‰å¾ˆå¤šç§ä¸åŒåŠŸèƒ½çš„å¯„å­˜å™¨ã€‚æˆ‘è¿™é‡Œç»™ä½ ä»‹ç»ä¸‰ç§æ¯”è¾ƒç‰¹æ®Šçš„ã€‚</p><p>ä¸€ä¸ªæ˜¯<strong>PCå¯„å­˜å™¨</strong>ï¼ˆProgram Counter Registerï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿå«<strong>æŒ‡ä»¤åœ°å€å¯„å­˜å™¨</strong>ï¼ˆInstruction Address Registerï¼‰ã€‚é¡¾åæ€ä¹‰ï¼Œå®ƒå°±æ˜¯ç”¨æ¥å­˜æ”¾ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„è®¡ç®—æœºæŒ‡ä»¤çš„å†…å­˜åœ°å€ã€‚</p><p>ç¬¬äºŒä¸ªæ˜¯<strong>æŒ‡ä»¤å¯„å­˜å™¨</strong>ï¼ˆInstruction Registerï¼‰ï¼Œç”¨æ¥å­˜æ”¾å½“å‰æ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤ã€‚</p><p>ç¬¬ä¸‰ä¸ªæ˜¯<strong>æ¡ä»¶ç å¯„å­˜å™¨</strong>ï¼ˆStatus Registerï¼‰ï¼Œç”¨é‡Œé¢çš„ä¸€ä¸ªä¸€ä¸ªæ ‡è®°ä½ï¼ˆFlagï¼‰ï¼Œå­˜æ”¾CPUè¿›è¡Œç®—æœ¯æˆ–è€…é€»è¾‘è®¡ç®—çš„ç»“æœã€‚</p><p>é™¤äº†è¿™äº›ç‰¹æ®Šçš„å¯„å­˜å™¨ï¼ŒCPUé‡Œé¢è¿˜æœ‰æ›´å¤šç”¨æ¥å­˜å‚¨æ•°æ®å’Œå†…å­˜åœ°å€çš„å¯„å­˜å™¨ã€‚è¿™æ ·çš„å¯„å­˜å™¨é€šå¸¸ä¸€ç±»é‡Œé¢ä¸æ­¢ä¸€ä¸ªã€‚æˆ‘ä»¬é€šå¸¸æ ¹æ®å­˜æ”¾çš„æ•°æ®å†…å®¹æ¥ç»™å®ƒä»¬å–åå­—ï¼Œæ¯”å¦‚æ•´æ•°å¯„å­˜å™¨ã€æµ®ç‚¹æ•°å¯„å­˜å™¨ã€å‘é‡å¯„å­˜å™¨å’Œåœ°å€å¯„å­˜å™¨ç­‰ç­‰ã€‚æœ‰äº›å¯„å­˜å™¨æ—¢å¯ä»¥å­˜æ”¾æ•°æ®ï¼Œåˆèƒ½å­˜æ”¾åœ°å€ï¼Œæˆ‘ä»¬å°±å«å®ƒé€šç”¨å¯„å­˜å™¨ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/ad/8a/ad91b005e97959d571bbd2a0fa30b48a.jpeg" alt=""></p><p>å®é™…ä¸Šï¼Œä¸€ä¸ªç¨‹åºæ‰§è¡Œçš„æ—¶å€™ï¼ŒCPUä¼šæ ¹æ®PCå¯„å­˜å™¨é‡Œçš„åœ°å€ï¼Œä»å†…å­˜é‡Œé¢æŠŠéœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤è¯»å–åˆ°æŒ‡ä»¤å¯„å­˜å™¨é‡Œé¢æ‰§è¡Œï¼Œç„¶åæ ¹æ®æŒ‡ä»¤é•¿åº¦è‡ªå¢ï¼Œå¼€å§‹é¡ºåºè¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ªç¨‹åºçš„ä¸€æ¡æ¡æŒ‡ä»¤ï¼Œåœ¨å†…å­˜é‡Œé¢æ˜¯è¿ç»­ä¿å­˜çš„ï¼Œä¹Ÿä¼šä¸€æ¡æ¡é¡ºåºåŠ è½½ã€‚</p><p>è€Œæœ‰äº›ç‰¹æ®ŠæŒ‡ä»¤ï¼Œæ¯”å¦‚ä¸Šä¸€è®²æˆ‘ä»¬è®²åˆ°Jç±»æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯è·³è½¬æŒ‡ä»¤ï¼Œä¼šä¿®æ”¹PCå¯„å­˜å™¨é‡Œé¢çš„åœ°å€å€¼ã€‚è¿™æ ·ï¼Œä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤å°±ä¸æ˜¯ä»å†…å­˜é‡Œé¢é¡ºåºåŠ è½½çš„äº†ã€‚äº‹å®ä¸Šï¼Œè¿™äº›è·³è½¬æŒ‡ä»¤çš„å­˜åœ¨ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å¯ä»¥åœ¨å†™ç¨‹åºçš„æ—¶å€™ï¼Œä½¿ç”¨ifâ€¦elseæ¡ä»¶è¯­å¥å’Œwhile/forå¾ªç¯è¯­å¥çš„åŸå› ã€‚</p><h2>ä»ifâ€¦elseæ¥çœ‹ç¨‹åºçš„æ‰§è¡Œå’Œè·³è½¬</h2><p>æˆ‘ä»¬ç°åœ¨å°±æ¥çœ‹ä¸€ä¸ªåŒ…å«ifâ€¦elseçš„ç®€å•ç¨‹åºã€‚</p><pre><code>// test.c


#include &lt;time.h&gt;
#include &lt;stdlib.h&gt;


int main()
{
  srand(time(NULL));
  int r = rand() % 2;
  int a = 10;
  if (r == 0)
  {
    a = 1;
  } else {
    a = 2;
  } 
</code></pre><p>æˆ‘ä»¬ç”¨randç”Ÿæˆäº†ä¸€ä¸ªéšæœºæ•°rï¼Œrè¦ä¹ˆæ˜¯0ï¼Œè¦ä¹ˆæ˜¯1ã€‚å½“ræ˜¯0çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠä¹‹å‰å®šä¹‰çš„å˜é‡aè®¾æˆ1ï¼Œä¸ç„¶å°±è®¾æˆ2ã€‚</p><pre><code>$ gcc -g -c test.c
$ objdump -d -M intel -S test.o 
</code></pre><p>æˆ‘ä»¬æŠŠè¿™ä¸ªç¨‹åºç¼–è¯‘æˆæ±‡ç¼–ä»£ç ã€‚ä½ å¯ä»¥å¿½ç•¥å‰åæ— å…³çš„ä»£ç ï¼Œåªå…³æ³¨äºè¿™é‡Œçš„ifâ€¦elseæ¡ä»¶åˆ¤æ–­è¯­å¥ã€‚å¯¹åº”çš„æ±‡ç¼–ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>    if (r == 0)
  3b:   83 7d fc 00             cmp    DWORD PTR [rbp-0x4],0x0
  3f:   75 09                   jne    4a &lt;main+0x4a&gt;
    {
        a = 1;
  41:   c7 45 f8 01 00 00 00    mov    DWORD PTR [rbp-0x8],0x1
  48:   eb 07                   jmp    51 &lt;main+0x51&gt;
    }
    else
    {
        a = 2;
  4a:   c7 45 f8 02 00 00 00    mov    DWORD PTR [rbp-0x8],0x2
  51:   b8 00 00 00 00          mov    eax,0x0
    } 
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œå¯¹äºr ==  0çš„æ¡ä»¶åˆ¤æ–­ï¼Œè¢«ç¼–è¯‘æˆäº†cmpå’Œjneè¿™ä¸¤æ¡æŒ‡ä»¤ã€‚</p><p>cmpæŒ‡ä»¤æ¯”è¾ƒäº†å‰åä¸¤ä¸ªæ“ä½œæ•°çš„å€¼ï¼Œè¿™é‡Œçš„DWORD PTRä»£è¡¨æ“ä½œçš„æ•°æ®ç±»å‹æ˜¯32ä½çš„æ•´æ•°ï¼Œè€Œ[rbp-0x4]åˆ™æ˜¯ä¸€ä¸ªå¯„å­˜å™¨çš„åœ°å€ã€‚æ‰€ä»¥ï¼Œç¬¬ä¸€ä¸ªæ“ä½œæ•°å°±æ˜¯ä»å¯„å­˜å™¨é‡Œæ‹¿åˆ°çš„å˜é‡rçš„å€¼ã€‚ç¬¬äºŒä¸ªæ“ä½œæ•°0x0å°±æ˜¯æˆ‘ä»¬è®¾å®šçš„å¸¸é‡0çš„16è¿›åˆ¶è¡¨ç¤ºã€‚cmpæŒ‡ä»¤çš„æ¯”è¾ƒç»“æœï¼Œä¼šå­˜å…¥åˆ°<strong>æ¡ä»¶ç å¯„å­˜å™¨</strong>å½“ä¸­å»ã€‚</p><p>åœ¨è¿™é‡Œï¼Œå¦‚æœæ¯”è¾ƒçš„ç»“æœæ˜¯ Trueï¼Œä¹Ÿå°±æ˜¯ r == 0ï¼Œå°±æŠŠ<strong>é›¶æ ‡å¿—æ¡ä»¶ç </strong>ï¼ˆå¯¹åº”çš„æ¡ä»¶ç æ˜¯ZFï¼ŒZero Flagï¼‰è®¾ç½®ä¸º1ã€‚é™¤äº†é›¶æ ‡å¿—ä¹‹å¤–ï¼ŒIntelçš„CPUä¸‹è¿˜æœ‰<strong>è¿›ä½æ ‡å¿—</strong>ï¼ˆCFï¼ŒCarry Flagï¼‰ã€<strong>ç¬¦å·æ ‡å¿—</strong>ï¼ˆSFï¼ŒSign Flagï¼‰ä»¥åŠ<strong>æº¢å‡ºæ ‡å¿—</strong>ï¼ˆOFï¼ŒOverflow Flagï¼‰ï¼Œç”¨åœ¨ä¸åŒçš„åˆ¤æ–­æ¡ä»¶ä¸‹ã€‚</p><p>cmpæŒ‡ä»¤æ‰§è¡Œå®Œæˆä¹‹åï¼ŒPCå¯„å­˜å™¨ä¼šè‡ªåŠ¨è‡ªå¢ï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€æ¡jneçš„æŒ‡ä»¤ã€‚</p><p>è·Ÿç€çš„jneæŒ‡ä»¤ï¼Œæ˜¯jump if not equalçš„æ„æ€ï¼Œå®ƒä¼šæŸ¥çœ‹å¯¹åº”çš„é›¶æ ‡å¿—ä½ã€‚å¦‚æœä¸º0ï¼Œä¼šè·³è½¬åˆ°åé¢è·Ÿç€çš„æ“ä½œæ•°4açš„ä½ç½®ã€‚è¿™ä¸ª4aï¼Œå¯¹åº”è¿™é‡Œæ±‡ç¼–ä»£ç çš„è¡Œå·ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢è®¾ç½®çš„elseæ¡ä»¶é‡Œçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ã€‚å½“è·³è½¬å‘ç”Ÿçš„æ—¶å€™ï¼ŒPCå¯„å­˜å™¨å°±ä¸å†æ˜¯è‡ªå¢å˜æˆä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œè€Œæ˜¯è¢«ç›´æ¥è®¾ç½®æˆè¿™é‡Œçš„4aè¿™ä¸ªåœ°å€ã€‚è¿™ä¸ªæ—¶å€™ï¼ŒCPUå†æŠŠ4aåœ°å€é‡Œçš„æŒ‡ä»¤åŠ è½½åˆ°æŒ‡ä»¤å¯„å­˜å™¨ä¸­æ¥æ‰§è¡Œã€‚</p><p>è·³è½¬åˆ°æ‰§è¡Œåœ°å€ä¸º4açš„æŒ‡ä»¤ï¼Œå®é™…æ˜¯ä¸€æ¡movæŒ‡ä»¤ï¼Œç¬¬ä¸€ä¸ªæ“ä½œæ•°å’Œå‰é¢çš„cmpæŒ‡ä»¤ä¸€æ ·ï¼Œæ˜¯å¦ä¸€ä¸ª32ä½æ•´å‹çš„å¯„å­˜å™¨åœ°å€ï¼Œä»¥åŠå¯¹åº”çš„2çš„16è¿›åˆ¶å€¼0x2ã€‚movæŒ‡ä»¤æŠŠ2è®¾ç½®åˆ°å¯¹åº”çš„å¯„å­˜å™¨é‡Œå»ï¼Œç›¸å½“äºä¸€ä¸ªèµ‹å€¼æ“ä½œã€‚ç„¶åï¼ŒPCå¯„å­˜å™¨é‡Œçš„å€¼ç»§ç»­è‡ªå¢ï¼Œæ‰§è¡Œä¸‹ä¸€æ¡movæŒ‡ä»¤ã€‚</p><p>è¿™æ¡movæŒ‡ä»¤çš„ç¬¬ä¸€ä¸ªæ“ä½œæ•°eaxï¼Œä»£è¡¨ç´¯åŠ å¯„å­˜å™¨ï¼Œç¬¬äºŒä¸ªæ“ä½œæ•°0x0åˆ™æ˜¯16è¿›åˆ¶çš„0çš„è¡¨ç¤ºã€‚è¿™æ¡æŒ‡ä»¤å…¶å®æ²¡æœ‰å®é™…çš„ä½œç”¨ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¸€ä¸ªå ä½ç¬¦ã€‚æˆ‘ä»¬å›è¿‡å¤´å»çœ‹å‰é¢çš„ifæ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³çš„è¯ï¼Œåœ¨èµ‹å€¼çš„movæŒ‡ä»¤æ‰§è¡Œå®Œæˆä¹‹åï¼Œæœ‰ä¸€ä¸ªjmpçš„æ— æ¡ä»¶è·³è½¬æŒ‡ä»¤ã€‚è·³è½¬çš„åœ°å€å°±æ˜¯è¿™ä¸€è¡Œçš„åœ°å€51ã€‚æˆ‘ä»¬çš„mainå‡½æ•°æ²¡æœ‰è®¾å®šè¿”å›å€¼ï¼Œè€Œmov eax, 0x0 å…¶å®å°±æ˜¯ç»™mainå‡½æ•°ç”Ÿæˆäº†ä¸€ä¸ªé»˜è®¤çš„ä¸º0çš„è¿”å›å€¼åˆ°ç´¯åŠ å™¨é‡Œé¢ã€‚ifæ¡ä»¶é‡Œé¢çš„å†…å®¹æ‰§è¡Œå®Œæˆä¹‹åä¹Ÿä¼šè·³è½¬åˆ°è¿™é‡Œï¼Œå’Œelseé‡Œçš„å†…å®¹ç»“æŸä¹‹åçš„ä½ç½®æ˜¯ä¸€æ ·çš„ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/b4/fa/b439cebb2d85496ad6eef2f61071aefa.jpeg" alt=""></p><p>ä¸Šä¸€è®²æˆ‘ä»¬è®²æ‰“å­”å¡çš„æ—¶å€™è¯´åˆ°ï¼Œè¯»å–æ‰“å­”å¡çš„æœºå™¨ä¼šé¡ºåºåœ°ä¸€æ®µä¸€æ®µåœ°è¯»å–æŒ‡ä»¤ï¼Œç„¶åæ‰§è¡Œã€‚æ‰§è¡Œå®Œä¸€æ¡æŒ‡ä»¤ï¼Œå®ƒä¼šè‡ªåŠ¨åœ°é¡ºåºè¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚å¦‚æœæ‰§è¡Œçš„å½“å‰æŒ‡ä»¤å¸¦æœ‰è·³è½¬çš„åœ°å€ï¼Œæ¯”å¦‚å¾€åè·³10ä¸ªæŒ‡ä»¤ï¼Œé‚£ä¹ˆæœºå™¨ä¼šè‡ªåŠ¨å°†å¡ç‰‡å¸¦å¾€åç§»åŠ¨10ä¸ªæŒ‡ä»¤çš„ä½ç½®ï¼Œå†æ¥æ‰§è¡ŒæŒ‡ä»¤ã€‚åŒæ ·çš„ï¼Œæœºå™¨ä¹Ÿèƒ½å‘å‰ç§»åŠ¨ï¼Œå»è¯»å–ä¹‹å‰å·²ç»æ‰§è¡Œè¿‡çš„æŒ‡ä»¤ã€‚è¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„while/forå¾ªç¯å®ç°çš„åŸç†ã€‚</p><h2>å¦‚ä½•é€šè¿‡ifâ€¦elseå’Œgotoæ¥å®ç°å¾ªç¯ï¼Ÿ</h2><pre><code>int main()
{
    int a = 0;
    for (int i = 0; i &lt; 3; i++)
    {
        a += i;
    }
}
</code></pre><p>æˆ‘ä»¬å†çœ‹ä¸€æ®µç®€å•çš„åˆ©ç”¨forå¾ªç¯çš„ç¨‹åºã€‚æˆ‘ä»¬å¾ªç¯è‡ªå¢å˜é‡iä¸‰æ¬¡ï¼Œä¸‰æ¬¡ä¹‹åï¼Œi&gt;=3ï¼Œå°±ä¼šè·³å‡ºå¾ªç¯ã€‚æ•´ä¸ªç¨‹åºï¼Œå¯¹åº”çš„Intelæ±‡ç¼–ä»£ç å°±æ˜¯è¿™æ ·çš„ï¼š</p><pre><code>    for (int i = 0; i &lt; 3; i++)
   b:   c7 45 f8 00 00 00 00    mov    DWORD PTR [rbp-0x8],0x0
  12:   eb 0a                   jmp    1e &lt;main+0x1e&gt;
    {
        a += i;
  14:   8b 45 f8                mov    eax,DWORD PTR [rbp-0x8]
  17:   01 45 fc                add    DWORD PTR [rbp-0x4],eax
    for (int i = 0; i &lt; 3; i++)
  1a:   83 45 f8 01             add    DWORD PTR [rbp-0x8],0x1
  1e:   83 7d f8 02             cmp    DWORD PTR [rbp-0x8],0x2
  22:   7e f0                   jle    14 &lt;main+0x14&gt;
  24:   b8 00 00 00 00          mov    eax,0x0
    }
</code></pre><p>å¯ä»¥çœ‹åˆ°ï¼Œå¯¹åº”çš„å¾ªç¯ä¹Ÿæ˜¯ç”¨1eè¿™ä¸ªåœ°å€ä¸Šçš„cmpæ¯”è¾ƒæŒ‡ä»¤ï¼Œå’Œç´§æ¥ç€çš„jleæ¡ä»¶è·³è½¬æŒ‡ä»¤æ¥å®ç°çš„ã€‚ä¸»è¦çš„å·®åˆ«åœ¨äºï¼Œè¿™é‡Œçš„jleè·³è½¬çš„åœ°å€ï¼Œåœ¨è¿™æ¡æŒ‡ä»¤ä¹‹å‰çš„åœ°å€14ï¼Œè€Œéifâ€¦elseç¼–è¯‘å‡ºæ¥çš„è·³è½¬æŒ‡ä»¤ä¹‹åã€‚å¾€å‰è·³è½¬ä½¿å¾—æ¡ä»¶æ»¡è¶³çš„æ—¶å€™ï¼ŒPCå¯„å­˜å™¨ä¼šæŠŠæŒ‡ä»¤åœ°å€è®¾ç½®åˆ°ä¹‹å‰æ‰§è¡Œè¿‡çš„æŒ‡ä»¤ä½ç½®ï¼Œé‡æ–°æ‰§è¡Œä¹‹å‰æ‰§è¡Œè¿‡çš„æŒ‡ä»¤ï¼Œç›´åˆ°æ¡ä»¶ä¸æ»¡è¶³ï¼Œé¡ºåºå¾€ä¸‹æ‰§è¡Œjleä¹‹åçš„æŒ‡ä»¤ï¼Œæ•´ä¸ªå¾ªç¯æ‰ç»“æŸã€‚</p><p><img src="https://static001.geekbang.org/resource/image/7c/30/7ca2eaf0df251e2ad16c412f7e625e30.jpeg" alt=""></p><p>å¦‚æœä½ çœ‹ä¸€é•¿æ¡æ‰“å­”å¡çš„è¯ï¼Œå°±ä¼šçœ‹åˆ°å¡ç‰‡å¾€åç§»åŠ¨ä¸€æ®µï¼Œæ‰§è¡Œäº†ä¹‹åï¼Œåˆåå‘ç§»åŠ¨ï¼Œå»é‡æ–°æ‰§è¡Œå‰é¢çš„æŒ‡ä»¤ã€‚</p><p>å…¶å®ï¼Œä½ æœ‰æ²¡æœ‰è§‰å¾—ï¼Œjleå’ŒjmpæŒ‡ä»¤ï¼Œæœ‰ç‚¹åƒç¨‹åºè¯­è¨€é‡Œé¢çš„gotoå‘½ä»¤ï¼Œç›´æ¥æŒ‡å®šäº†ä¸€ä¸ªç‰¹å®šæ¡ä»¶ä¸‹çš„è·³è½¬ä½ç½®ã€‚è™½ç„¶æˆ‘ä»¬åœ¨ç”¨é«˜çº§è¯­è¨€å¼€å‘ç¨‹åºçš„æ—¶å€™åå¯¹ä½¿ç”¨gotoï¼Œä½†æ˜¯å®é™…åœ¨æœºå™¨æŒ‡ä»¤å±‚é¢ï¼Œæ— è®ºæ˜¯ifâ€¦elseâ€¦ä¹Ÿå¥½ï¼Œè¿˜æ˜¯for/whileä¹Ÿå¥½ï¼Œéƒ½æ˜¯ç”¨å’Œgotoç›¸åŒçš„è·³è½¬åˆ°ç‰¹å®šæŒ‡ä»¤ä½ç½®çš„æ–¹å¼æ¥å®ç°çš„ã€‚</p><h2>æ€»ç»“å»¶ä¼¸</h2><p>è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬åœ¨å•æ¡æŒ‡ä»¤çš„åŸºç¡€ä¸Šï¼Œå­¦ä¹ äº†ç¨‹åºé‡Œçš„å¤šæ¡æŒ‡ä»¤ï¼Œç©¶ç«Ÿæ˜¯æ€ä¹ˆæ ·ä¸€æ¡ä¸€æ¡è¢«æ‰§è¡Œçš„ã€‚é™¤äº†ç®€å•åœ°é€šè¿‡PCå¯„å­˜å™¨è‡ªå¢çš„æ–¹å¼é¡ºåºæ‰§è¡Œå¤–ï¼Œæ¡ä»¶ç å¯„å­˜å™¨ä¼šè®°å½•ä¸‹å½“å‰æ‰§è¡ŒæŒ‡ä»¤çš„æ¡ä»¶åˆ¤æ–­çŠ¶æ€ï¼Œç„¶åé€šè¿‡è·³è½¬æŒ‡ä»¤è¯»å–å¯¹åº”çš„æ¡ä»¶ç ï¼Œä¿®æ”¹PCå¯„å­˜å™¨å†…çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œæœ€ç»ˆå®ç°ifâ€¦elseä»¥åŠfor/whileè¿™æ ·çš„ç¨‹åºæ§åˆ¶æµç¨‹ã€‚</p><p>ä½ ä¼šå‘ç°ï¼Œè™½ç„¶æˆ‘ä»¬å¯ä»¥ç”¨é«˜çº§è¯­è¨€ï¼Œå¯ä»¥ç”¨ä¸åŒçš„è¯­æ³•ï¼Œæ¯”å¦‚ ifâ€¦else è¿™æ ·çš„æ¡ä»¶åˆ†æ”¯ï¼Œæˆ–è€… while/for è¿™æ ·çš„å¾ªç¯æ–¹å¼ï¼Œæ¥å®ç°ä¸ç”¨çš„ç¨‹åºè¿è¡Œæµç¨‹ï¼Œä½†æ˜¯å›å½’åˆ°è®¡ç®—æœºå¯ä»¥è¯†åˆ«çš„æœºå™¨æŒ‡ä»¤çº§åˆ«ï¼Œå…¶å®éƒ½åªæ˜¯ä¸€ä¸ªç®€å•çš„åœ°å€è·³è½¬è€Œå·²ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç±»ä¼¼äºgotoçš„è¯­å¥ã€‚</p><p>æƒ³è¦åœ¨ç¡¬ä»¶å±‚é¢å®ç°è¿™ä¸ªgotoè¯­å¥ï¼Œé™¤äº†æœ¬èº«éœ€è¦ç”¨æ¥ä¿å­˜ä¸‹ä¸€æ¡æŒ‡ä»¤åœ°å€ï¼Œä»¥åŠå½“å‰æ­£è¦æ‰§è¡ŒæŒ‡ä»¤çš„PCå¯„å­˜å™¨ã€æŒ‡ä»¤å¯„å­˜å™¨å¤–ï¼Œæˆ‘ä»¬åªéœ€è¦å†å¢åŠ ä¸€ä¸ªæ¡ä»¶ç å¯„å­˜å™¨ï¼Œæ¥ä¿ç•™æ¡ä»¶åˆ¤æ–­çš„çŠ¶æ€ã€‚è¿™æ ·ç®€ç®€å•å•çš„ä¸‰ä¸ªå¯„å­˜å™¨ï¼Œå°±å¯ä»¥å®ç°æ¡ä»¶åˆ¤æ–­å’Œå¾ªç¯é‡å¤æ‰§è¡Œä»£ç çš„åŠŸèƒ½ã€‚</p><p>ä¸‹ä¸€èŠ‚ï¼Œæˆ‘ä»¬ä¼šè¿›ä¸€æ­¥è®²è§£ï¼Œå¦‚æœç¨‹åºä¸­å‡ºç°å‡½æ•°æˆ–è€…è¿‡ç¨‹è¿™æ ·å¯ä»¥å¤ç”¨çš„ä»£ç æ¨¡å—ï¼Œå¯¹åº”çš„æŒ‡ä»¤æ˜¯æ€ä¹ˆæ ·æ‰§è¡Œçš„ï¼Œä¼šå’Œæˆ‘ä»¬è¿™é‡Œçš„ifâ€¦elseæœ‰ä»€ä¹ˆä¸åŒã€‚</p><h2>æ¨èé˜…è¯»</h2><p>ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹çš„ç¬¬3ç« ï¼Œè¯¦ç»†è®²è§£äº†Cè¯­è¨€å’ŒIntel CPUçš„æ±‡ç¼–è¯­è¨€ä»¥åŠæŒ‡ä»¤çš„å¯¹åº”å…³ç³»ï¼Œä»¥åŠIntel CPUçš„å„ç§å¯„å­˜å™¨å’ŒæŒ‡ä»¤é›†ã€‚</p><p>IntelæŒ‡ä»¤é›†ç›¸å¯¹äºä¹‹å‰çš„MIPSæŒ‡ä»¤é›†è¦å¤æ‚ä¸€äº›ï¼Œä¸€æ–¹é¢ï¼Œæ‰€æœ‰çš„æŒ‡ä»¤æ˜¯å˜é•¿çš„ï¼Œä»1ä¸ªå­—èŠ‚åˆ°15ä¸ªå­—èŠ‚ä¸ç­‰ï¼›å¦ä¸€æ–¹é¢ï¼Œå³ä½¿æ˜¯æ±‡ç¼–ä»£ç ï¼Œè¿˜æœ‰å¾ˆå¤šé’ˆå¯¹æ“ä½œæ•°æ®çš„é•¿åº¦ä¸åŒæœ‰ä¸åŒçš„åç¼€ã€‚æˆ‘åœ¨è¿™é‡Œæ²¡æœ‰è¯¦ç»†è§£é‡Šå„ä¸ªæŒ‡ä»¤çš„å«ä¹‰ï¼Œå¦‚æœä½ å¯¹ç”¨C/C++åšLinuxç³»ç»Ÿå±‚é¢å¼€å‘æ„Ÿå…´è¶£ï¼Œå»ºè®®ä½ ä¸€å®šå¥½å¥½è¯»ä¸€è¯»è¿™ä¸€ç« èŠ‚ã€‚</p><h2>è¯¾åæ€è€ƒ</h2><p>é™¤äº†ifâ€¦elseçš„æ¡ä»¶è¯­å¥å’Œfor/whileçš„å¾ªç¯ä¹‹å¤–ï¼Œå¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€è¿˜æœ‰switchâ€¦caseè¿™æ ·çš„æ¡ä»¶è·³è½¬è¯­å¥ã€‚switchâ€¦caseç¼–è¯‘å‡ºæ¥çš„æ±‡ç¼–ä»£ç ä¹Ÿæ˜¯è¿™æ ·ä½¿ç”¨jneæŒ‡ä»¤è¿›è¡Œè·³è½¬å—ï¼Ÿå¯¹åº”çš„æ±‡ç¼–ä»£ç çš„æ€§èƒ½å’Œå†™å¾ˆå¤šifâ€¦elseæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿä½ å¯ä»¥è¯•ç€å†™ä¸€ä¸ªç®€å•çš„Cè¯­è¨€ç¨‹åºï¼Œç¼–è¯‘æˆæ±‡ç¼–ä»£ç çœ‹ä¸€çœ‹ã€‚</p><p>æ¬¢è¿ç•™è¨€å’Œæˆ‘åˆ†äº«ä½ çš„æ€è€ƒå’Œç–‘æƒ‘ï¼Œä½ ä¹Ÿå¯ä»¥æŠŠä»Šå¤©çš„å†…å®¹åˆ†äº«ç»™ä½ çš„æœ‹å‹ï¼Œå’Œä»–ä¸€èµ·å­¦ä¹ å’Œè¿›æ­¥ã€‚</p><p><img src="https://static001.geekbang.org/resource/image/28/29/281ca28b90c8aa0aecbb5adc08394f29.jpg" alt=""></p> </div> </div> <div data-v-87ffcada="" class="article-comments"><h2 data-v-87ffcada=""><span data-v-87ffcada="">ç²¾é€‰ç•™è¨€</span></h2> <ul data-v-87ffcada="">  <li data-v-87ffcada="" class="comment-item"><img src="" class="avatar"> <div class="info"> <div class="hd"><span class="username">L</span> </div> <div class="bd">éè®¡ç®—æœºä¸“ä¸š è¡¨ç¤ºçœ‹åˆ°è¿™ä¸€ç« å·²ç»å¾ˆæ‡µé€¼äº†<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">é‚£è¦åŠ æ²¹ææ¸…æ¥šå•Šã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/1f/38/38d52458.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">Out</span> </div> <div class="bd">è€å¸ˆæ‚¨å¥½ï¼Œåœ¨æ–‡ä¸­æ‚¨æåˆ°ï¼šâ€œåœ¨è¿™é‡Œï¼Œå¦‚æœæ¯”è¾ƒçš„ç»“æœæ˜¯Falseï¼Œä¹Ÿå°±æ˜¯0ï¼Œå°±æŠŠé›¶æ ‡å¿—ç è®¾ç½®ä¸º1â€ è¿™ä¸ªåœ°æ–¹æ˜¯ä¸æ˜¯æœ‰é—®é¢˜ï¼Œæ ¹æ®æˆ‘æŸ¥åˆ°ç»“æœï¼Œcmp will ZF to 1 when two operands are equal. æ‰€ä»¥å¦‚æœæ¯”è¾ƒçš„ç»“æœæ˜¯Trueï¼Œæ‰ä¼šæŠŠé›¶æ ‡å¿—ç è®¾ç½®ä¸º1ã€‚<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">æ˜¯å¾—ï¼Œç¬”è¯¯äº†ã€‚åº”è¯¥æ˜¯ â€œå¦‚æœæ¯”è¾ƒå¾—ç»“æœæ˜¯Trueï¼Œä¹Ÿå°±æ˜¯ r == 0ï¼Œå°±æŠŠé›¶æ ‡å¿—ç è®¾ç½®ä¸º1â€<br>ä¸ç„¶åé¢å¾—jneè·³è½¬å’Œè¿™é‡Œä¹Ÿå¯¹ä¸ä¸Šã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">Linuxer</span> </div> <div class="bd">int main()<br>{<br>   0:   55                      push   rbp<br>   1:   48 89 e5                mov    rbp,rsp<br>   int i = 0;<br>   4:   c7 45 fc 00 00 00 00    mov    DWORD PTR [rbp-0x4],0x0<br>   int a = 0;<br>   b:   c7 45 f8 00 00 00 00    mov    DWORD PTR [rbp-0x8],0x0<br>   switch(i)<br>  12:   8b 45 fc                mov    eax,DWORD PTR [rbp-0x4]<br>  15:   83 f8 01                cmp    eax,0x1<br>  18:   74 07                   je     21 &lt;main+0x21&gt;<br>  1a:   83 f8 02                cmp    eax,0x2<br>  1d:   74 0b                   je     2a &lt;main+0x2a&gt;<br>  1f:   eb 12                   jmp    33 &lt;main+0x33&gt;<br>   {<br>      case 1:<br>        a = 1;<br>  21:   c7 45 f8 01 00 00 00    mov    DWORD PTR [rbp-0x8],0x1<br>        break;<br>  28:   eb 11                   jmp    3b &lt;main+0x3b&gt;<br>      case 2:<br>        a = 2;<br>  2a:   c7 45 f8 02 00 00 00    mov    DWORD PTR [rbp-0x8],0x2<br>        break;<br>  31:   eb 08                   jmp    3b &lt;main+0x3b&gt;<br>      default:<br>        a = 3;<br>  33:   c7 45 f8 03 00 00 00    mov    DWORD PTR [rbp-0x8],0x3<br>        break;<br>  3a:   90                      nop<br>   }<br><br>   return 1;<br>  3b:   b8 01 00 00 00          mov    eax,0x1<br>}<br>  40:   5d                      pop    rbp<br>  41:   c3                      ret<br><br>è¯¾åé—®é¢˜éªŒè¯ï¼Œè¿™ä¹ˆçœ‹å¦‚æœæ˜¯å•çº¯çš„ä¸¤ä¸ªåˆ†æ”¯é‡‡ç”¨if elseæ›´æœ‰åˆ©ï¼Œå¦å¤– mov    eax,0x1ä»è¿™å„¿çœ‹è±¡æ˜¯mainçš„è¿”å›å€¼<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">æ˜¯çš„ï¼Œå¦‚æœæ²¡æœ‰æä¾›è¿”å›å€¼ï¼Œå¾ˆå¤šç‰ˆæœ¬çš„ç¼–è¯‘å™¨ä¼šéšå¼åœ°ç”Ÿæˆä¸€ä¸ªreturn 0;çš„è¿”å›å€¼ï¼Œå°±ä¼šç”Ÿæˆ mov eax, 0x0 çš„å¤šå‡ºæ¥çš„æŒ‡ä»¤ã€‚æˆ‘ä¿®æ”¹ä¸€ä¸‹è®©æ–‡ç« æ›´å‡†ç¡®ä¸€ç‚¹ã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/40/d4/9aabdac0.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">aiter</span> </div> <div class="bd">å¾è€å¸ˆå¥½ï½<br>Cè¯­è¨€æˆ‘ä¸ä¼šï¼Œã€‚ï¼ŒåŠªåŠ›çœ‹äº†åŠå¤©ï¼Œç®—æ˜¯æ‡‚äº†å¤§éƒ¨åˆ†ï¼Œä½†æ˜¯forå¾ªç¯é‚£é‡Œè¿˜æ˜¯æœ‰ç‚¹é—®é¢˜ï½æ±‡ç¼–è¯­è¨€é‡Œï¼Œjmp 1e ä¹‹åï¼Œåº”è¯¥æ˜¯åšæ¯”è¾ƒcmpï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¸æ˜¯0å’Œ3æ¯”è¾ƒï¼Œè€Œæ˜¯å’Œ16è¿›åˆ¶çš„2ï¼ˆ0x2ï¼‰æ¯”è¾ƒï¼Ÿ<br>â€”â€”â€”â€”-<br>å› ä¸ºåé¢ç”¨çš„jle(jump if less or equal) &lt;=2.å¦‚æœæ˜¯ä½¿ç”¨jl(jump if less) &lt;3.åº”è¯¥æ˜¯ç¼–è¯‘å™¨çš„ä¼˜åŒ–è¡Œä¸ºï¼Ÿå¯ä»¥è‡ªå·±å†™æ±‡ç¼–ä»£ç ï¼Œä½¿ç”¨jl 0x3è¯•è¯•æ•ˆæœæ˜¯å¦ä¸€æ ·<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">aiteråŒå­¦è°¢è°¢ã€‚æˆ‘å›å¤äº†ï¼Œä¸è¿‡ä½ è¿™é‡Œçš„ç†è§£ä¸å¤ªå¯¹ï¼ŒjleæŒ‡ä»¤å¹¶ä¸æ˜¯å’Œ2åšæ¯”è¾ƒï¼Œè€Œæ˜¯åˆ¤æ–­æ ‡å¿—ä½çš„ï¼Œjle å’Œ jl ç”¨çš„æ˜¯ä¸åŒçš„æ ‡å¿—ä½ï¼Œå…·ä½“å¯ä»¥çœ‹çœ‹è¿™ä¸ªreference http:&#47;&#47;www.unixwiz.net&#47;techtips&#47;x86-jumps.html</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/ec/3e/51fa2c6e.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">èƒ–èƒ–èƒ–</span> </div> <div class="bd">ä¸ªäººç†è§£ï¼šè¿™ä¸€è®²çš„æ ¸å¿ƒåœ¨äºç†è§£å‡ ä¸ªå¯„å­˜å™¨çš„ä½œç”¨ï¼Œä»è€Œç†è§£cpuè¿è¡Œç¨‹åºçš„è¿‡ç¨‹ï¼šcpuä»PCå¯„å­˜å™¨ä¸­å–åœ°å€ï¼Œæ‰¾åˆ°åœ°å€å¯¹åº”çš„å†…å­˜ä½å­ï¼Œå–å‡ºå…¶ä¸­æŒ‡ä»¤é€å…¥æŒ‡ä»¤å¯„å­˜å™¨æ‰§è¡Œï¼Œç„¶åæŒ‡ä»¤è‡ªå¢ï¼Œé‡å¤æ“ä½œã€‚æ‰€ä»¥åªè¦ç¨‹åºåœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œå°±ä¼šé¡ºåºæ‰§è¡Œè¿™ä¹Ÿæ˜¯å†¯è¯ºä¾æ›¼ä½“ç³»çš„ç†å¿µå§ã€‚è€Œå®é™…ä¸Šè·³è½¬æŒ‡ä»¤å°±æ˜¯å½“å‰æŒ‡ä»¤ä¿®æ”¹äº†å½“å‰PCå¯„å­˜å™¨ä¸­æ‰€ä¿å­˜çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œä»è€Œå®ç°äº†è·³è½¬ã€‚å½“ç„¶å„ä¸ªå¯„å­˜å™¨å®é™…ä¸Šæ˜¯ç”±æ•°ç”µä¸­çš„ä¸€ä¸ªä¸€ä¸ªé—¨ç”µè·¯ç»„åˆå‡ºæ¥çš„ï¼Œè€Œå„ä¸ªé—¨ç”µè·¯çš„å…·ä½“ç”µè·¯å½¢å¼ä¹Ÿæ˜¯å±äºæ¨¡ç”µçš„ä¸œè¥¿ã€‚å¯¹äºæˆ‘ä»¬æ¥è¯´ï¼Œæœ‰ä¸ªå…·ä½“æ¦‚å¿µå°±è¡Œï¼Œå®åœ¨éœ€è¦çš„æ—¶å€™å†å›å»ç¿»ç¿»è¯¾æœ¬æ¡èµ·æ¥å°±è¡Œã€‚<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ğŸ‘å®Œå…¨æ­£ç¡®ã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/f5/b9/888fe350.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">ä¸è®°å¹´</span> </div> <div class="bd">cpuçš„åœ¨æ‰§è¡ŒæŒ‡ä»¤æ—¶è¿˜è¦æœ‰ä¸ªè½¬ç çš„ç”µè·¯æ¥å°†æŒ‡ä»¤è½¬æ¢æˆä¸åŒçš„ç”µä¿¡å·ï¼Œè¿™äº›ç”µä¿¡å·å¯ä»¥æ§åˆ¶å„ä¸ªå¯„å­˜å™¨çš„åŠ¨ä½œï½<br></div> <span class="time">2019-05-09</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ğŸ‘è¿™ä¸ªå…³äºCPUçš„æ§åˆ¶å™¨çš„è¯‘ç å™¨çš„éƒ¨åˆ†æˆ‘ä¼šåœ¨åç»­è®²è§£CPUçš„éƒ¨åˆ†è®²åˆ°ã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/bf/aa/abb7bfe3.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">å…è´¹çš„äºº</span> </div> <div class="bd">switch case è¦çœ‹ç¼–è¯‘å™¨æœ‰æ²¡æœ‰ç”Ÿæˆè·³è¡¨ï¼Œæ²¡æœ‰çš„è¯è·Ÿif elseæ•ˆç‡åº”è¯¥æ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚caseä¸ªæ•°æ¯”è¾ƒå°‘çš„æƒ…å†µ<br></div> <span class="time">2019-05-09</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ğŸ‘</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/37/f9/f5a8d1f9.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">å°è‚šè…©era</span> </div> <div class="bd">ä»Šå¹´å¤§å››ï¼Œæ­£åœ¨å®ä¹ ã€‚åœ¨å®é™…å·¥ä½œæ…¢æ…¢å‘ç°è‡ªå·±åŸºç¡€çŸ¥è¯†çš„è–„å¼±ï¼Œæ‰€ä»¥ç°åœ¨ä¹Ÿæ˜¯æŠ“ç´§æ—¶é—´åœ¨è¡¥ä¹ è¿™äº›çŸ¥è¯†ã€‚å¬è€å¸ˆè¿™ä¸€è®²ï¼Œåˆæƒ³èµ·äº†æ±‡ç¼–çš„çŸ¥è¯†ï¼Œæ¯”èµ·ä»¥å‰ï¼Œåˆæœ‰äº†æ›´æ·±çš„ç†è§£ã€‚ååˆ†æœŸå¾…è€å¸ˆæ›´æ–°ä¸“æ ~<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ğŸ‘åŠ æ²¹</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/cb/9d/e36c2335.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">ã€€ã€€ã€€ã€€ã€€ã€€ã€€é¸Ÿäººî”¡</span> </div> <div class="bd">å¤§å®¶ä¸è¦æŠŠâ€œæ±‡ç¼–è¯­è¨€â€å½“æˆæ˜¯åƒCä¸€æ ·çš„ä¸€é—¨ç»Ÿä¸€ç¼–ç¨‹è¯­è¨€ã€‚<br><br>è¯·é—®è¿™èŠ‚è½¬æ¢çš„æ±‡ç¼–æ˜¯å“ªé‡Œçš„æ±‡ç¼–ï¼Ÿ<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">è¿™ä¸€èŠ‚è¿™é‡Œç”¨çš„æ˜¯Intel X86ä½“ç³»ç»“æ„çš„æ±‡ç¼–ã€‚å¯¹åº”çš„ä»£ç ä½ å¯ä»¥ç›´æ¥å¤åˆ¶åˆ°Linuxä¸‹é¢é€šè¿‡åŒæ ·çš„gccå’Œobjdumpå‘½ä»¤dumpå‡ºæ¥çœ‹ã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">ä¸€æ­¥</span> </div> <div class="bd">è€å¸ˆï¼Œæˆ‘ä»¬å¸¸è¯´çš„äºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶ï¼Œæ˜¯æŒ‡é«˜çº§è¯­è¨€å·²ç»ç¼–è¯‘æˆä¸€æ¡æ¡cpu æŒ‡ä»¤ç»„æˆçš„æ–‡ä»¶å—ï¼Ÿ<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ä¸€æ­¥åŒå­¦ä½ å¥½ï¼Œå·®ä¸å¤šï¼Œä½†æ˜¯ä¸å®Œå…¨ä¸€æ ·ã€‚äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶é‡Œé¢é™¤äº†æŒ‡ä»¤ä¿¡æ¯ä¹‹å¤–è¿˜æœ‰å¾ˆå¤šåˆ«çš„ä¿¡æ¯ï¼Œå¯ä»¥å‚è€ƒç¨åçš„é™æ€é“¾æ¥é‚£ä¸€è®²ï¼Œä¼šæ›´å…·ä½“åœ°è®²è§£æˆ‘ä»¬çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶é‡Œé¢æœ‰äº›ä»€ä¹ˆå†…å®¹ã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">Linuxer</span> </div> <div class="bd">51:   b8 00 00 00 00          mov    eax,0x0<br>è¿™ä¸ªä¼šä¸ä¼šæ˜¯mainçš„è¿”å›å€¼å‘¢?<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">LinuxeråŒå­¦ä½ è¯´å¾—å¯¹ï¼Œè¿™ä¸ªå°±æ˜¯mainçš„è¿”å›å€¼ã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/26/55/e72a671e.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">rookie</span> </div> <div class="bd">ç¨‹åºå¦‚ä¸‹ï¼š<br>int main(){<br>	int i = 0;<br>	int a = 0;<br>	switch(i){<br>		case 1:<br>			a = 1;<br>			break;<br>		case 2:<br>			a = 2;<br>			break;<br>		default:<br>			a = 3;<br>			break;}<br>	return 1;<br>}<br><br>ä¸‹é¢æ˜¯æœºå™¨ç å’Œæ±‡ç¼–ä»£ç ï¼š<br>0000000000000000 &lt;main&gt;:<br>   0:	55                            	push   rbp<br>   1:	48 89 e5                   	mov    rbp,rsp<br>   4:	c7 45 f8 00 00 00 00 	mov    DWORD PTR [rbp-0x8],0x0 #å°†0å¤åˆ¶ç»™[rbp-0x8] è¿™ä¸ªå†…å­˜åœ°å€ï¼Œå³ i = 0<br>   b:	c7 45 fc 00 00 00 00 	mov    DWORD PTR [rbp-0x4],0x0 #å°†0å¤åˆ¶ç»™[rbp-0x4] è¿™ä¸ªå†…å­˜åœ°å€ï¼Œå³ a = 0<br>  12:	8b 45 f8                   	mov    eax,DWORD PTR [rbp-0x8] #å°†içš„å€¼1å¤åˆ¶ç»™å¯„å­˜å™¨eax<br>  15:	83 f8 01                    	cmp    eax,0x1  #å°†eaxä¸1è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœtrueåˆ™æ‰§è¡Œä¸‹é¢çš„jeæŒ‡ä»¤ï¼Œè·³è½¬åˆ°21<br>  18:	74 07                        	je     21 &lt;main+0x21&gt;<br>  1a:	83 f8 02                    	cmp    eax,0x2  #å°†eaxä¸2è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœtrueåˆ™æ‰§è¡Œä¸‹é¢çš„jeæŒ‡ä»¤ï¼Œè·³è½¬åˆ°2a<br>  1d:	74 0b                       	je     2a &lt;main+0x2a&gt;<br>  1f:	eb 12                        	jmp    33 &lt;main+0x33&gt;                    #è·³è½¬åˆ°33<br>  21:	c7 45 fc 01 00 00 00   	mov    DWORD PTR [rbp-0x4],0x1     #a = 1<br>  28:	eb 11                         	jmp    3b &lt;main+0x3b&gt;<br>  2a:	c7 45 fc 02 00 00 00 	mov    DWORD PTR [rbp-0x4],0x2     #a = 2<br>  31:	eb 08                       	jmp    3b &lt;main+0x3b&gt;<br>  33:	c7 45 fc 03 00 00 00 	mov    DWORD PTR [rbp-0x4],0x3     #a = 3<br>  3a:	90                            	nop<br>  3b:	b8 01 00 00 00          	mov    eax,0x1                                   # eax = 1<br>  40:	5d                            	pop    rbp<br>  41:	c3                      	        ret                                                     # è¿”å›eax<br></div> <span class="time">2019-05-10</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/12/ec/2a/b11d5ad8.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">æ›¾ç»ç˜¦è¿‡</span> </div> <div class="bd">å¯¹æ±‡ç¼–ä¸å¤ªç†è§£  å…·ä½“çš„ä»£ç åˆ†æçœ‹çš„æœ‰ç‚¹åƒåŠ›   åŸºæœ¬çš„æµç¨‹è¿˜æ˜¯å¾ˆæ¸…æ™°çš„ å°¤å…¶æ˜¯  å¡å¸¦çš„ä¾‹å­ æ›´åŠ å½¢è±¡çš„ è¯´æ˜äº† å·¥ä½œåŸç† <br></div> <span class="time">2019-05-10</span>  </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/13/13/9d/d91dc762.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">å–œæ¬¢åƒé±¼</span> </div> <div class="bd">è€å¸ˆï¼Œæ‚¨ä¸Šé¢æœ‰ä¸ªåœ°æ–¹æ˜¯ä¸æ˜¯ç¬”è¯¯äº†ï¼Ÿ<br>å¯¹äºr==0çš„æ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœæ¯”è¾ƒçš„ç»“æœæ˜¯False,å³r!=0,å°±æŠŠé›¶æ ‡å¿—æ¡ä»¶ç ï¼ˆZFï¼‰è®¾ç½®ä¸º1ã€‚ä½†æ˜¯æ‚¨ä¸‹é¢è¯´cmpæŒ‡ä»¤æ‰§è¡Œå®Œåï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤jneä¼šæ£€æŸ¥é›¶æ ‡å¿—ä½ï¼Œå¦‚æœä¸º0ï¼Œåˆ™è·³è½¬åˆ°æ“ä½œæ•°4açš„ä½ç½®ã€‚å‰é¢ä¸æ˜¯åœ¨r!=0çš„æ—¶å€™æŠŠZFç½®ä¸º1äº†å—ï¼Ÿæ‰€ä»¥è¿™é‡Œåº”è¯¥æ˜¯æ£€æŸ¥åˆ°é›¶æ ‡å¿—ä½1æ‰è·³è½¬åˆ°4açš„ä½ç½®å§ï¼Œæ˜¯æˆ‘ç†è§£é”™äº†å—ï¼Ÿ<br><br></div> <span class="time">2019-05-10</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">æ˜¯å¾—ï¼Œç¬”è¯¯äº†ï¼Œä½†æ˜¯ä¸æ˜¯åé¢JNEå†™åäº†ï¼Œè€Œæ˜¯å‰é¢ç½®æ ‡å¿—ä½å†™åäº†ã€‚<br>åº”è¯¥æ˜¯ â€œ å¦‚æœæ¯”è¾ƒçš„ç»“æœæ˜¯ Trueï¼Œä¹Ÿå°±æ˜¯ r == 0â€ï¼Œæ‰ä¼šç½® ZF = 1, JNEè¿˜æ˜¯æŒ‰ç…§ ZF = 0 æ‰ä¼šè·³è½¬ã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/56/72/6c5c9a7b.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">äºŒè¿›åˆ¶</span> </div> <div class="bd">è®¤çœŸå­¦ä¸€éæ±‡ç¼–è¯¾ç¨‹ï¼Œä½ ä¼šè§‰å¾—è¿™æ–‡ç« å¾ˆç®€å•ã€‚<br></div> <span class="time">2019-05-10</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ğŸ‘</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/14/ba/01/c5161563.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">Geek</span> </div> <div class="bd">å¾è€å¸ˆå¥½ï½<br>Cè¯­è¨€æˆ‘ä¸ä¼šï¼Œã€‚ï¼ŒåŠªåŠ›çœ‹äº†åŠå¤©ï¼Œç®—æ˜¯æ‡‚äº†å¤§éƒ¨åˆ†ï¼Œä½†æ˜¯forå¾ªç¯é‚£é‡Œè¿˜æ˜¯æœ‰ç‚¹é—®é¢˜ï½æ±‡ç¼–è¯­è¨€é‡Œï¼Œjmp 1e ä¹‹åï¼Œåº”è¯¥æ˜¯åšæ¯”è¾ƒcmpï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¸æ˜¯0å’Œ3æ¯”è¾ƒï¼Œè€Œæ˜¯å’Œ16è¿›åˆ¶çš„2ï¼ˆ0x2ï¼‰æ¯”è¾ƒï¼Ÿ<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">å› ä¸º i &lt; 3 å¯¹äºä¸€ä¸ªæ•´æ•°æ¥è¯´ç­‰ä»·äº i &lt;= 2 æˆ–è€…è¯´ i - 2 &gt;= 0ã€‚å¦‚æœæˆ‘æ²¡æœ‰è®°é”™çš„è¯ï¼ŒCMPæŒ‡ä»¤è®¾ç½®FLAGæ˜¯å’Œ SUB è¿™ä¸ªå‡æ³•æŒ‡ä»¤ä¸€è‡´ï¼Œæ ¹æ®åŠ æ³•åç»“æœçš„ç¬¦å·æ¥è®¾ç½®FLAG</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/88/8b/7c9b68d6.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">è±«æ¨Ÿ</span> </div> <div class="bd">è€å¸ˆè¿™å‡ èŠ‚çš„å®‰æ’å¾ˆåˆç†ï¼Œå¾ªåºæ¸è¿›ï¼Œè™½ç„¶æ²¡å­¦è¿‡æ±‡ç¼–ï¼Œä½†å¬å®Œä¹‹åä¹Ÿèƒ½è§‚å…¶å¤§ç•¥ï¼Œæ‹“å±•çŸ¥è¯†é¢ï¼Œä¹Ÿæ˜¯æ¸…çˆ½çš„å…«è¾¾é¸Ÿ!<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ğŸ‘è°¢è°¢æ”¯æŒ</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/16/56/c6/0b449bc6.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">Geek_56d656</span> </div> <div class="bd">ä¹‹å‰å¬è¯´javaçš„switch caseç¼–è¯‘å‡ºæ¥çš„å°±ç›¸å½“äºif else<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">å¹¶ä¸ä¸€æ ·å•Šï¼Œå¯ä»¥è‡ªå·±ç¼–è¯‘ä¸€ä¸‹çœ‹çœ‹å¯¹åº”çš„ä¸­é—´ä»£ç ã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/11/9b/ba/333b59e5.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">Linuxer</span> </div> <div class="bd">è¯·é—®gdb info reg é‡Œé¢æœ‰å½“å‰æŒ‡ä»¤å¯„å­˜å™¨å—ï¼Ÿæˆ‘å°è±¡ä¸­ripæ˜¯PC<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">æœ‰çš„ï¼Œå°±æ˜¯ripã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  <li data-v-87ffcada="" class="comment-item"><img src="https://static001.geekbang.org/account/avatar/00/0f/57/4f/6fb51ff1.jpg" class="avatar"> <div class="info"> <div class="hd"><span class="username">ä¸€æ­¥</span> </div> <div class="bd">ç¼–è¯‘äº†ä¸€ä¸‹ï¼Œswitch...caseæ˜¯ä½¿ç”¨jeæŒ‡ä»¤è·³è½¬çš„<br></div> <span class="time">2019-05-08</span> <div class="reply"> <div class="reply-hd"><span>ä½œè€…å›å¤</span></div> <p class="reply-content">ä¸€æ­¥åŒå­¦ä½ å¥½ï¼Œå¯ä»¥æŠŠä½ ç¼–è¯‘å‡ºæ¥çš„ä»£ç å’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚</p> <p class="reply-time">2019-05-10</p> </div> </div> </li>  </ul> </div> </div> </div> </div> </div> </body> </html>
